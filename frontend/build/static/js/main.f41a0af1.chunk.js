(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(27),c=n.n(i),o=n(6),s=n(7),l=n(9),u=n(8),p=n(10),d=n(14),m=(n(67),n(2)),h=n.n(m),f=n(3),g=n(26),S=n.n(g);function v(e){return E.apply(this,arguments)}function E(){return(E=Object(f.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S()({url:"/graphql",method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.data;case 6:if(r=e.sent,200===n.status){e.next=11;break}throw new Error("Request Failed at request handler"+n.status);case 11:return e.abrupt("return",r.data);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=Object(f.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S()({url:"/graphql",method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.data;case 6:if(r=e.sent,200===n.status){e.next=11;break}throw new Error("Request Failed "+n.status);case 11:if(null!==r.data.createUser&&null!==r.data){e.next=15;break}alert(r.errors[0].message),e.next=20;break;case 15:if(!r.errors){e.next=19;break}alert("Error at sign in!"),e.next=20;break;case 19:return e.abrupt("return",r.data);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),alert("Wrong info!Try again!"),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}function P(e){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get(t);case 3:return n=e.sent,e.next=6,n.data;case 6:r=e.sent,console.log(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function N(e){var t=localStorage.getItem(e);return JSON.parse(t)}var k=n(121),C=n(56),w=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).getLegthOfProducts=function(){var e=N("shoppingcart");if(null!==e){var t=0!==n.props.amount?n.props.amount:e.length;return"(".concat(t,")")}},n.handleOrderPrice=function(){var e=N("shoppingcart"),t=0;if(null!==e&&e.length>0){var r=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){t+=c.value.unitPrice}}catch(s){a=!0,i=s}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}n.setState({totalPrice:t})}},n.renderProductDetail=function(){var e=N("shoppingcart");if(e&&null!==e&&e.length>0){var t=e.map((function(e){return e._id})),r={};t.forEach((function(e){r[e]=(r[e]||0)+1}));var i=C.uniq(e.filter((function(e){var t;for(t in r)if(e._id===t)return e.amount=r[t],e})),"_id").map((function(e){return a.a.createElement("div",{className:"d-flex flex-column align-items-center"},a.a.createElement("img",{className:"imgNav",src:""+"/imgs/".concat(e.pictureUrl),alt:e.productName}),a.a.createElement("span",null,e.productName),a.a.createElement("span",null,e.unitPrice+" SEK"),a.a.createElement("span",null,"Quantity: ",e.amount))}));return a.a.createElement("div",null,i,a.a.createElement("h6",{id:"totalPrice"},"Total Amount:  ","".concat(0===n.props.totalPrice?n.state.totalPrice:n.props.totalPrice," SEK")))}return a.a.createElement("span",null,"Your shopping cart is empty!")},n.toggle=function(){n.setState((function(e){return{tooltipOpen:!e.tooltipOpen}}))},n.state={tooltipOpen:!1,totalPrice:0},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleOrderPrice()}},{key:"render",value:function(){return a.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light nav-margin"},a.a.createElement(d.b,{to:"/"},a.a.createElement("span",{className:"navbar-brand",onClick:function(){P("main")}},"SmartHeadphones")),a.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},a.a.createElement("span",{className:"navbar-toggler-icon"})),a.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},a.a.createElement("ul",{className:"navbar-nav mr-auto"},a.a.createElement("li",{className:"nav-item active"},a.a.createElement(d.b,{to:"/productPage"},a.a.createElement("span",{className:"nav-link",onClick:function(){P("productPage")}}," Product Page"))),a.a.createElement("li",{className:"nav-item"},a.a.createElement(d.b,{to:"/contact"},a.a.createElement("span",{className:"nav-link",onClick:function(){P("contact")}}," Contact Page"))),a.a.createElement("li",{className:"nav-item"},a.a.createElement(d.b,{to:"/SignInSignUp"},a.a.createElement("span",{className:"nav-link",onClick:function(){P("SignInSignUp")}}," SignIn SignUp Page"))),a.a.createElement("li",{className:"nav-item"},this.props.signedInUser())),a.a.createElement("h4",{className:"nav-item"},a.a.createElement(d.b,{to:"/shoppingCard"},a.a.createElement("span",{onClick:function(){P("shoppingCard")},className:"fas fa-shopping-cart text-black navbar-text nav-link kundVagnWidth",id:"TooltipExample"},a.a.createElement(k.a,{placement:"right",isOpen:this.state.tooltipOpen,target:"TooltipExample",toggle:this.toggle},a.a.createElement("ul",null,this.renderProductDetail())),"Shopping Cart ",this.getLegthOfProducts())))))}}]),t}(a.a.Component),_=n(15),I=(n(111),n(60)),x=n.n(I),j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"mainViewContainer"},a.a.createElement("h4",null," Welcome To SmartHeaphones"),a.a.createElement("p",{className:"paragraph"},"SmartHeaphones is a new dropshipping website in Sweden.Smart headphones present a new direction for headphones and personal audio devices.Until now, headphones have been limited to playing music, general audio, or providing noise cancelation features. Smart headphones combine the intelligence of a smartphone with the audio capabilities of headphones, and extend those capabilities beyond any personal audio device.Some of these smart capabilities include language translation, fitness and heart rate tracking,voice-based personal assistants, contextual location-based suggestions, environment-based noise suppression or audio enhancement, and gesture and touch-based control, among others.")),a.a.createElement("div",null,a.a.createElement("img",{className:"mainViewImg",src:""+"".concat(x.a),alt:"main-view"})))}}]),t}(a.a.Component),U=(n(112),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).timerID=void 0,n.getProducts=Object(f.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"\n              { products {\n                  productName\n                  _id\n                  unitPrice\n                  unitInStock\n                  pictureUrl \n                  description\n                }\n              }"},e.next=3,v(t);case 3:"undefined"!==typeof(r=e.sent)?n.setState({products:r.products}):n.setState({products:[]});case 5:case"end":return e.stop()}}),e)}))),n.renderProducts=function(){if(n.state.products.length>0&&!1===n.state.viewProduct){var e=n.state.products.map((function(e){if(""!==e._id)return a.a.createElement("div",{className:"backgroundOdd d-flex flex-column align-items-center"},a.a.createElement("img",{className:"img",src:""+"/imgs/".concat(e.pictureUrl),alt:e.productName}),a.a.createElement("h6",null,e.productName),a.a.createElement("h6",null,e.unitPrice+" SEK"),a.a.createElement("h6",null,"Produkt quentity: ",e.unitInStock),a.a.createElement(d.b,{to:"/singleProduct/:id=".concat(e._id)},a.a.createElement("button",{id:"viewButton",onClick:function(){n.viewProduct(e),P("/singleProduct/:id="+e._id)}},"View Product!")))}));return a.a.createElement("div",{className:"container-fluid d-flex flex-column  "},e)}},n.showAddedProduct=function(){n.setState({visible:!0},(function(){window.setTimeout((function(){n.setState({visible:!1})}),1e3)}))},n.addProduct=function(e){var t=localStorage.getItem("shoppingcart"),r=JSON.parse(t);r.push(e),localStorage.setItem("shoppingcart",JSON.stringify(r)),n.props.getAddedProducts(r),n.showAddedProduct()},n.viewProduct=function(e){n.setState({viewProduct:!0,choosenProduct:e})},n.state={products:[{productName:"",_id:"",unitPrice:0,unitInStock:0,pictureUrl:"",description:""}],viewProduct:!1,choosenProduct:{productName:"",_id:"",unitPrice:0,unitInStock:0,pictureUrl:"",description:""},visible:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getProducts()}},{key:"render",value:function(){return a.a.createElement("div",{id:"allContainer"},this.renderProducts())}}]),t}(a.a.Component)),A=n(24),M=(n(113),n(61)),D=n.n(M);function q(e){return a.a.createElement("div",{style:T},e.children)}var T={display:"flex",flexDirection:"column",alignItems:"center",margin:"auto",width:"50%",marginTop:"3em",padding:"1em",backgroundColor:"#d7e4c7"},F=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(f.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={query:'\n            mutation {\n                createSubscription(SubscriptionInput: {email: "'.concat(n.state.email,'"}) {\n                  _id\n                }\n              }\n              \n            ')},e.next=4,v(r);case 4:"undefined"!==typeof(a=e.sent)&&(a.createSubscription?n.setState({email:""},(function(){alert("You are subscribed now")})):n.setState({email:""},(function(){alert("Try with new email or something went wrong")})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleOnChange=function(e){n.setState(Object(A.a)({},e.target.type,e.target.value))},n.state={email:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"contactContainer"},a.a.createElement("div",null,a.a.createElement("h1",null,"Contact Us: "),a.a.createElement("ul",{className:"detailContainer"},a.a.createElement("li",null,"Tel: 0733466726"),a.a.createElement("li",null,"Address: Trollh\xe4ttan, 456 34 Ab"),a.a.createElement("li",null,"Support: 0733466726"),a.a.createElement("img",{className:"supportImg",src:""+"".concat(D.a),alt:"main-view"}))),a.a.createElement(q,null,a.a.createElement("div",{style:J},a.a.createElement("span",null,"Get our latest news"),a.a.createElement("form",{onSubmit:this.handleSubmit,style:L},a.a.createElement("input",{className:"inputStyle",type:"email",placeholder:"email",onChange:this.handleOnChange,value:this.state.email,required:!0}),a.a.createElement("input",{type:"submit",value:"Submit"})))))}}]),t}(a.a.Component),J={display:"flex",flexDirection:"column",alignItems:"center"},L={display:"flex",flexDirection:"column",alignItems:"center",margin:"auto"},H=(n(114),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(f.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={query:'\n            mutation { createProduct(ProductInput: \n            {productName: "'.concat(n.state.productName,'",\n                 unitPrice:  ').concat(Number(n.state.unitPrice),",\n                unitInStock:").concat(Number(n.state.unitInStock),',\n                 pictureUrl:"').concat(n.state.pictureUrl,'",\n                description: "').concat(n.state.description,'"}) {\n                _id\n              }\n            }')},""!==n.props.modified._id&&(r={query:'mutation {\n            updateChoosenProduct(ProductUpdate: {\n                _id:"'.concat(n.props.modified._id,'",\n                productName: "').concat(n.state.productName,'",\n                 unitPrice: ').concat(Number(n.state.unitPrice),",\n                 unitInStock: ").concat(Number(n.state.unitInStock),',\n                 pictureUrl: "').concat(n.state.pictureUrl,'", \n                   description:"').concat(n.state.description,'" }) {\n                  _id\n                  \n                }\n              }\n              \n            ')}),e.next=5,v(r);case 5:"undefined"!==typeof(a=e.sent)&&(a.createProduct?n.setState({productName:"",unitInStock:"",unitPrice:"",pictureUrl:"",description:""},(function(){alert("Success to create a produkt id= "+a.createProduct._id)})):n.setState({productName:"",unitInStock:"",unitPrice:"",pictureUrl:"",description:""},(function(){alert("Updated Success")})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleProduktName=function(e){n.setState({productName:e.target.value})},n.handleProduktDescription=function(e){n.setState({description:e.target.value})},n.handleProduktPictureurl=function(e){n.setState({pictureUrl:e.target.value})},n.handleUnitInStock=function(e){n.setState({unitInStock:e.target.value})},n.handleProductPrice=function(e){n.setState({unitPrice:e.target.value})},n.displayChoosenDataToModifiy=function(){if(""!==n.props.modified._id)return a.a.createElement("ul",{className:"orderContainer"},a.a.createElement("li",null,"id: ",n.props.modified._id),a.a.createElement("li",null,"namn: ",n.props.modified.productName),a.a.createElement("li",null,"unitInStock: ",n.props.modified.unitInStock),a.a.createElement("li",null,"pris: ",n.props.modified.unitPrice),a.a.createElement("li",null,"url: ",n.props.modified.pictureUrl),a.a.createElement("li",null,"beskrivning: ",n.props.modified.description))},n.state={productName:"",unitInStock:"",unitPrice:"",pictureUrl:"",description:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(q,null,a.a.createElement("form",{onSubmit:this.handleSubmit,className:"formStyle"},this.displayChoosenDataToModifiy(),a.a.createElement("input",{className:"inputStyle",type:"text",placeholder:"product-name",onChange:this.handleProduktName,value:this.state.productName,required:!0}),a.a.createElement("input",{className:"inputStyle",type:"number",name:"quantity",min:"1",max:"1000",placeholder:"unitInStock",onChange:this.handleUnitInStock,value:this.state.unitInStock,required:!0}),a.a.createElement("input",{className:"inputStyle",type:"text",placeholder:"unitPrice",onChange:this.handleProductPrice,value:this.state.unitPrice,required:!0}),a.a.createElement("input",{className:"inputStyle",type:"text",placeholder:"pictureUrl.jpg",onChange:this.handleProduktPictureurl,value:this.state.pictureUrl,required:!0}),a.a.createElement("span",null,"Avoid having multiple line"),a.a.createElement("textarea",{placeholder:"descrption",rows:1,cols:150,value:this.state.description,onChange:this.handleProduktDescription,required:!0}),a.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.a.Component)),K=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(f.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={query:'\n            mutation {\n                createShipper(ShipperInput: {companyName:"'.concat(n.state.companyName,'",\n                 shippingPrice:').concat(Number(n.state.shippingPrice),',\n                  shippingMethod:"').concat(n.state.shippingMethod,'"\n                }) {\n                  _id\n                }\n              }')},""!==n.props.modified._id&&(r={query:'\n                mutation {\n                    updateChoosenShipper(ShipperUpdate: {_id: "'.concat(n.props.modified._id,'",\n                      companyName: "').concat(n.state.companyName,'",\n                       shippingPrice:').concat(Number(n.state.shippingPrice),', shippingMethod: "').concat(n.state.shippingMethod,'"}) {\n                      _id\n                    }\n                  }\n                ')}),e.next=5,v(r);case 5:"undefined"!==typeof(a=e.sent)&&(a.createShipper?n.setState({companyName:"",shippingMethod:"",shippingPrice:""},Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",alert("Success to create a shipper method "+a.createShipper._id));case 1:case"end":return e.stop()}}),e)})))):alert("Succes to update"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCompnayName=function(e){n.setState({companyName:e.target.value})},n.handleShippingPrice=function(e){n.setState({shippingPrice:e.target.value})},n.handleShippingMethod=function(e){n.setState({shippingMethod:e.target.value})},n.displayChoosenDataToModifiy=function(){if(""!==n.props.modified._id)return a.a.createElement("ul",{className:"orderContainer"},a.a.createElement("li",null,"id: ",n.props.modified._id),a.a.createElement("li",null,"namn: ",n.props.modified.companyName),a.a.createElement("li",null,"Method: ",n.props.modified.shippingMethod),a.a.createElement("li",null,"pris: ",n.props.modified.shippingPrice))},n.state={companyName:"",shippingPrice:"",shippingMethod:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(q,null,a.a.createElement("form",{onSubmit:this.handleSubmit,className:"formStyle"},this.displayChoosenDataToModifiy(),a.a.createElement("input",{className:"inputStyle",type:"text",placeholder:"company-name",onChange:this.handleCompnayName,value:this.state.companyName,required:!0}),a.a.createElement("input",{className:"inputStyle",type:"text",placeholder:"shipping-price",onChange:this.handleShippingPrice,value:this.state.shippingPrice,required:!0}),a.a.createElement("input",{className:"inputStyle",type:"text",placeholder:"shipping-method",onChange:this.handleShippingMethod,value:this.state.shippingMethod,required:!0}),a.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.a.Component),B=(n(115),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).getAllOrders=Object(f.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"\n            {\n                orders {\n                  _id\n                  shipFirstName\n                  shipLastName\n                  shippAdress\n                  shippPostelCode\n                  shipCity\n                  shipMail\n                  shipPhoneNo\n                  totalPrice\n                  orderDate\n                  createdOrder\n                  selectedShipper\n                  createdAt\n                  updatedAt\n                }\n              }\n              \n            "},e.next=3,v(t);case 3:"undefined"!==typeof(r=e.sent)&&n.setState({orders:r.orders},(function(){alert(n.state.orders.length)}));case 5:case"end":return e.stop()}}),e)}))),n.getAllUsers=Object(f.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"{ users {\n                  _id\n                  email\n                  username\n                }\n              } "},e.next=3,v(t);case 3:"undefined"!==typeof(r=e.sent)&&n.setState({users:r.users},(function(){alert(n.state.users.length)}));case 5:case"end":return e.stop()}}),e)}))),n.getAllShipperMethods=Object(f.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"{\n                     shippers {\n                       _id\n                       companyName\n                       shippingPrice\n                       shippingMethod\n                     }\n                   }"},e.next=3,v(t);case 3:"undefined"!==typeof(r=e.sent)?n.setState({shippers:r.shippers},(function(){n.state.shippers.length<=0&&alert("There is not shipper Method")})):n.setState({shippers:[]});case 5:case"end":return e.stop()}}),e)}))),n.getAllProducts=Object(f.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"{ products {\n                productName\n                _id\n                unitPrice\n                unitInStock\n                pictureUrl \n                description\n                }\n            }"},e.next=3,v(t);case 3:"undefined"!==typeof(r=e.sent)?n.setState({products:r.products},(function(){alert(n.state.products.length)})):n.setState({products:[]});case 5:case"end":return e.stop()}}),e)}))),n.showOrderDetails=function(){var e=Object(f.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={query:'\n              {\n                getSpeceficOrderDetails(_id: "'.concat(t,'") {\n                  productName\n                  pictureUrl\n                  unitInStock\n                  unitPrice\n                  counted\n                }\n              } ')},e.next=3,v(r);case 3:"undefined"!==typeof(a=e.sent)?n.setState({current_orders_products:{id:t,products:a.getSpeceficOrderDetails}}):n.setState({current_orders_products:{id:"",products:[]}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getAllSubscription=Object(f.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"\n              {\n                subscriptions {\n                  _id\n                  email\n                }\n              }\n               "},e.next=3,v(t);case 3:"undefined"!==typeof(r=e.sent)?n.setState({subscriptions:r.subscriptions},(function(){alert(n.state.subscriptions.length)})):n.setState({subscriptions:[]});case 5:case"end":return e.stop()}}),e)}))),n.hideOrderDetail=function(){n.setState({current_orders_products:{id:"",products:[]}})},n.hideChoosenShipper=function(){n.setState({choosenShipper:{orderId:"",shipper:{_id:"",companyName:"",shippingPrice:0,shippingMethod:""}}})},n.showCurrentOrderProduct=function(){if(n.state.current_orders_products.products.length>0){var e=n.state.current_orders_products.products.map((function(e){return a.a.createElement("ul",{className:"itemOrderContainer"},a.a.createElement("img",{className:"img-order",src:""+"/imgs/".concat(e.pictureUrl),alt:e.productName}),a.a.createElement("li",null,e.productName),a.a.createElement("li",null,e.unitPrice+"SEK"),a.a.createElement("li",null,"Amount-shop: ",e.counted))}));return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideOrderDetail},"Hide Order Detail"),e)}},n.getChoosenShipper=function(){var e=Object(f.a)(h.a.mark((function e(t,r){var a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={query:'\n        {   getSpeceficShipper(_id: "'.concat(t,'") {\n                companyName\n                shippingPrice\n                shippingMethod\n            }\n            }')},e.next=3,v(a);case 3:"undefined"!==typeof(i=e.sent)?n.setState({choosenShipper:{orderId:r,shipper:i.getSpeceficShipper}}):n.setState({choosenShipper:{orderId:"",shipper:{_id:"",shippingPrice:0,shippingMethod:"",companyName:""}}});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.displayChoosenShipper=function(){return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideChoosenShipper},"Hide Choosen Shipper"),a.a.createElement("ul",{className:"orderContainer"},a.a.createElement("li",null,n.state.choosenShipper.shipper.companyName),a.a.createElement("li",null,n.state.choosenShipper.shipper.shippingMethod),a.a.createElement("li",null,n.state.choosenShipper.shipper.shippingPrice+"SEK")))},n.displayOrders=function(){if(n.state.orders.length>0){var e=n.state.orders.map((function(e){return a.a.createElement("ul",{className:"orderContainer"},"One Order:",a.a.createElement("li",null,"Id: ",e._id),a.a.createElement("li",null,"Name: ",e.shipFirstName),a.a.createElement("li",null,"Lastname: ",e.shipLastName),a.a.createElement("li",null,"Address: ",e.shippAdress," Postnum: ",e.shippPostelCode," City: ",e.shipCity),a.a.createElement("li",null,"Email: ",e.shipMail),a.a.createElement("li",null,"Tel: ",e.shipPhoneNo),a.a.createElement("li",null,"Date: ",e.orderDate),a.a.createElement("button",{className:"orderButton",onClick:function(){return n.showOrderDetails(e._id)}},"Visa order details"),a.a.createElement("div",null,n.state.current_orders_products.id===e._id?n.showCurrentOrderProduct():""),a.a.createElement("button",{className:"orderButton",onClick:function(){return n.getChoosenShipper(e.selectedShipper,e._id)}},"Visa valt frakt"),n.state.choosenShipper.orderId===e._id?n.displayChoosenShipper():"")}));return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideOrder},"Hide all orders!"),e)}},n.displayShippers=function(){if(n.state.shippers.length>0){var e=n.state.shippers.map((function(e){return a.a.createElement("ul",{className:"orderContainer"},a.a.createElement("span",null,"One shipping method"),a.a.createElement("li",null,e._id),a.a.createElement("li",null,e.companyName),a.a.createElement("li",null,e.shippingMethod),a.a.createElement("li",null,e.shippingPrice+"SEK"),a.a.createElement("button",{onClick:function(){return n.updateThisShipper(e)}},"Update This shipper Method"),a.a.createElement("button",{onClick:function(){return n.deleteThisShipper(e)}},"Delete This Shipper"))}));return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideShipper},"Hide all shippng methods!"),e)}},n.hideOrder=function(){n.setState({orders:[]})},n.hideUser=function(){n.setState({users:[]})},n.hideShipper=function(){n.setState({shippers:[]})},n.showProductForm=function(){n.setState({showProductForm:!0})},n.hideProduktForm=function(){n.setState({showProductForm:!1,modifiedProdcut:!1,modified:{productName:"",_id:"",unitPrice:0,unitInStock:0,pictureUrl:"",description:""}})},n.showShipperForm=function(){n.setState({showShipperForm:!0})},n.hideShipperForm=function(){n.setState({showShipperForm:!1,modifiedShipp:!1,modifiedShipper:{_id:"",companyName:"",shippingPrice:0,shippingMethod:""}})},n.hideProducts=function(){n.setState({products:[]})},n.hideSubscription=function(){n.setState({subscriptions:[]})},n.displayUsers=function(){if(n.state.users.length>0){var e=n.state.users.map((function(e){return a.a.createElement("ul",{className:"orderContainer"},a.a.createElement("li",null,"Id: ",e._id),a.a.createElement("li",null,"Email: ",e.email),a.a.createElement("li",null,"Name: ",e.username))}));return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideUser},"Hide all users!"),e)}},n.displayProduktForm=function(){if(!0===n.state.showProductForm||!0===n.state.modifiedProdcut)return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideProduktForm},"Hide Product form!"),a.a.createElement(H,{modified:n.state.modified}))},n.updateThisShipper=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({modifiedShipper:{_id:t._id,companyName:t.companyName,shippingPrice:t.shippingPrice,shippingMethod:t.shippingMethod},modifiedShipp:!0,shippers:[]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.displayShipperForm=function(){if(!0===n.state.showShipperForm||!0===n.state.modifiedShipp)return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideShipperForm},"Hide shipping method form!"),a.a.createElement(K,{modified:n.state.modifiedShipper,getAllShipperMethods:n.getAllShipperMethods}))},n.modifyChoosenProduct=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({modified:{productName:t.productName,_id:t._id,unitPrice:t.unitPrice,unitInStock:t.unitInStock,pictureUrl:t.pictureUrl,description:t.description},modifiedProdcut:!0,products:[]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.removeThisProduct=function(){var e=Object(f.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={query:'\n            mutation {\n                deleteProduct(ProductDelete: {_id: "'.concat(t._id,'"}) {\n                    ok\n                    n\n                    deletedCount\n                }\n              }\n              \n            ')},e.next=3,v(r);case 3:"undefined"!==typeof(a=e.sent)?n.getAllProducts().then((function(){alert(a.deleteProduct.n)})):alert("We could not remove this product");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteThisShipper=function(){var e=Object(f.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={query:'\n            mutation {\n                deleteShipper(ShipperDelete: {_id: "'.concat(t._id,'"}) {\n                  ok\n                  n\n                  deletedCount\n                }\n              }\n              \n            ')},e.next=3,v(r);case 3:"undefined"!==typeof(a=e.sent)?n.getAllShipperMethods().then((function(){alert(a.deleteShipper.n)})):alert("We could not remove this shipper");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.displayProduct=function(){if(n.state.products.length>0){var e=n.state.products.map((function(e){return a.a.createElement("ul",{className:"orderContainer"},a.a.createElement("span",null,"One Product: "),a.a.createElement("li",null,e._id),a.a.createElement("li",null,e.productName),a.a.createElement("li",null,e.pictureUrl),a.a.createElement("li",null,"Total UnitInStock: ",e.unitInStock),a.a.createElement("li",null,e.unitPrice+" SEK"),a.a.createElement("li",null,e.description),a.a.createElement("button",{onClick:function(){return n.modifyChoosenProduct(e)}},"Modify This produkt"),a.a.createElement("button",{onClick:function(){return n.removeThisProduct(e)}},"Remove This produkt"))}));return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideProducts},"Hide All Products!"),e)}},n.displaySubscriptions=function(){if(n.state.subscriptions.length>0){var e=n.state.subscriptions.map((function(e){return a.a.createElement("ul",{className:"orderContainer"},a.a.createElement("span",null,"One Subscription: "),a.a.createElement("li",null,"id: ",e._id),a.a.createElement("li",null,"Email: ",e.email))}));return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideSubscription},"Hide All Subscriptions!"),e)}},n.state={orders:[],users:[],shippers:[],showProductForm:!1,showShipperForm:!1,products:[],modified:{productName:"",_id:"",unitPrice:0,unitInStock:0,pictureUrl:"",description:""},modifiedProdcut:!1,modifiedShipper:{_id:"",companyName:"",shippingPrice:0,shippingMethod:""},modifiedShipp:!1,choosenShipper:{orderId:"",shipper:{_id:"",companyName:"",shippingPrice:0,shippingMethod:""}},current_orders_products:{id:"",products:[]},subscriptions:[]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"adminContainer"},a.a.createElement("h1",null,"Hey Admin"),a.a.createElement("button",{className:"buttonAdmin",onClick:this.showProductForm},"Create A Product/update"),this.displayProduktForm(),a.a.createElement("button",{className:"buttonAdmin",onClick:this.showShipperForm},"Create A Shipping method/update"),this.displayShipperForm(),a.a.createElement("button",{className:"buttonAdmin",onClick:this.getAllProducts},"Show All Products!"),this.displayProduct(),a.a.createElement("button",{className:"buttonAdmin",onClick:this.getAllOrders},"Show All Orders!"),this.displayOrders(),a.a.createElement("button",{className:"buttonAdmin",onClick:this.getAllUsers},"Show All Users!"),this.displayUsers(),a.a.createElement("button",{className:"buttonAdmin",onClick:this.getAllShipperMethods},"Show All Shipping Methods!"),this.displayShippers(),a.a.createElement("button",{onClick:this.getAllSubscription},"Show All Subscription"),this.displaySubscriptions())}}]),t}(a.a.Component)),W=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(f.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={query:'\n              query {\n                login(email: "'.concat(n.state.email,'", password: "').concat(n.state.password,'") {\n                  userId\n                  email\n                  username\n                }\n              }\n            ')},n.state.signedUp||(r={query:'\n                mutation {\n                  createUser(UserInput: {email: "'.concat(n.state.email,'", password: "').concat(n.state.password,'", username:"').concat(n.state.text,'"}) {\n                    _id\n                    email\n                    username\n                  }\n                }\n              ')}),e.next=5,b(r);case 5:"undefined"!==typeof(a=e.sent)&&(a.createUser?alert("We created new user"):n.saveUser(a.login));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveUser=function(e){var t=localStorage.getItem("users"),r=JSON.parse(t);if(r.length>0){localStorage.removeItem("current_user"),localStorage.setItem("current_user",JSON.stringify({id:e.userId,username:e.username,email:e.email}));var a=!1;if(r.filter((function(t){t.email===e.email&&(a=!0)})),!a){var i={id:e.userId,email:e.email,choosenProducts:[]};r.push(i),localStorage.setItem("users",JSON.stringify(r))}alert("You are signed in")}else{var c={id:e.userId,email:e.email,choosenProducts:[]};r.push(c),localStorage.setItem("users",JSON.stringify(r)),localStorage.setItem("current_user",JSON.stringify({id:e.userId,username:e.username,email:e.email})),alert("You are signed in")}n.props.signedInUser(),n.setState({signOut:!0,email:"",password:"",text:"",current_user:e.username,current_orders:[]})},n.handleOnChange=function(e){n.setState(Object(A.a)({},e.target.type,e.target.value))},n.handleLogout=function(){n.setState({signedUp:!1})},n.handleLogin=function(){n.setState({signedUp:!0})},n.renderSignInSignUp=function(){return n.state.signedUp?a.a.createElement("button",{onClick:n.handleLogout},"Sign In"):a.a.createElement("button",{onClick:n.handleLogin},"Sign Up")},n.renderUsername=function(){return n.state.signedUp?"":a.a.createElement("input",{className:"inputStyle",type:"text",placeholder:"name",onChange:n.handleOnChange,value:n.state.text,required:!0})},n.getCurrentOrders=Object(f.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n.props.userInfo.id){e.next=6;break}return t={query:'\n          { getSpeceficOrder(_id: "'.concat(n.props.userInfo.id,'") {\n              _id\n              shipFirstName\n              shipLastName\n              shippAdress\n              shippPostelCode\n              shipCity\n              shipMail\n              shipPhoneNo\n              totalPrice\n              orderDate\n              createdOrder\n              selectedShipper\n              createdAt\n              updatedAt\n            }\n          }')},e.next=4,v(t);case 4:"undefined"!==typeof(r=e.sent)?n.setState({current_orders:r.getSpeceficOrder},(function(){n.state.current_orders.length<=0&&alert("You Have No Order Yet!")})):n.setState({current_orders:[]});case 6:case"end":return e.stop()}}),e)}))),n.showOrderDetails=function(){var e=Object(f.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n.props.userInfo.id){e.next=6;break}return r={query:'\n            {\n              getSpeceficOrderDetails(_id: "'.concat(t,'") {\n                productName\n                pictureUrl\n                unitInStock\n                unitPrice\n                counted\n              }\n            } ')},e.next=4,v(r);case 4:"undefined"!==typeof(a=e.sent)?n.setState({current_orders_products:{id:t,products:a.getSpeceficOrderDetails}}):n.setState({current_orders_products:{id:"",products:[]}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showCurrentOrderProduct=function(){if(n.state.current_orders_products.products.length>0){var e=n.state.current_orders_products.products.map((function(e){return a.a.createElement("ul",{className:"itemOrderContainer"},a.a.createElement("img",{className:"img-order",src:""+"/imgs/".concat(e.pictureUrl),alt:e.productName}),a.a.createElement("li",null,e.productName),a.a.createElement("li",null,e.unitPrice+"SEK"),a.a.createElement("li",null,"Amount-shop: ",e.counted))}));return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideOrderDetail},"Hide Order Detail"),e)}},n.getChoosenShipper=function(){var e=Object(f.a)(h.a.mark((function e(t,r){var a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n.props.userInfo.id){e.next=6;break}return a={query:'\n            {   getSpeceficShipper(_id: "'.concat(t,'") {\n                  companyName\n                  shippingPrice\n                  shippingMethod\n                }\n              }')},e.next=4,v(a);case 4:"undefined"!==typeof(i=e.sent)?n.setState({choosenShipper:{orderId:r,shipper:i.getSpeceficShipper}}):n.setState({choosenShipper:{orderId:"",shipper:{_id:"",shippingPrice:0,shippingMethod:"",companyName:""}}});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.displayChoosenShipper=function(){return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideChoosenShipper},"Hide Choosen Shipper"),a.a.createElement("ul",{className:"orderContainer"},a.a.createElement("li",null,n.state.choosenShipper.shipper.companyName),a.a.createElement("li",null,n.state.choosenShipper.shipper.shippingMethod),a.a.createElement("li",null,n.state.choosenShipper.shipper.shippingPrice+"SEK")))},n.hideOrderDetail=function(){n.setState({current_orders_products:{id:"",products:[]}})},n.hideChoosenShipper=function(){n.setState({choosenShipper:{orderId:"",shipper:{_id:"",companyName:"",shippingPrice:0,shippingMethod:""}}})},n.hideAllOrders=function(){n.setState({current_orders:[]})},n.displayCurrentOrder=function(){if(n.state.current_orders.length>0){var e=n.state.current_orders.map((function(e){return a.a.createElement("ul",{className:"orderContainer"},"One Order:",a.a.createElement("li",null,"OrdId: ",e._id),a.a.createElement("li",null,"Name: ",e.shipFirstName),a.a.createElement("li",null,"Lastname: ",e.shipLastName),a.a.createElement("li",null,"Address: ",e.shippAdress," Postnummer: ",e.shippPostelCode," Stad: ",e.shipCity),a.a.createElement("li",null,"Email: ",e.shipMail),a.a.createElement("li",null,"Tel: ",e.shipPhoneNo),a.a.createElement("li",null,"Date: ",e.orderDate),a.a.createElement("button",{className:"orderButton",onClick:function(){return n.showOrderDetails(e._id)}},"Visa order details"),a.a.createElement("div",null,n.state.current_orders_products.id===e._id?n.showCurrentOrderProduct():""),a.a.createElement("button",{className:"orderButton",onClick:function(){return n.getChoosenShipper(e.selectedShipper,e._id)}},"Visa valt frakt"),n.state.choosenShipper.orderId===e._id?n.displayChoosenShipper():"")}));return a.a.createElement("div",null,a.a.createElement("button",{onClick:n.hideAllOrders},"Hide All Orders"),e)}},n.renderForm=function(){return a.a.createElement(q,null,a.a.createElement("h1",null,n.state.signedUp?"Sign In":"Sign Up!"),a.a.createElement("label",null,"Change To ",n.renderSignInSignUp()),a.a.createElement("form",{onSubmit:n.handleSubmit,className:"formStyle"},a.a.createElement("input",{className:"inputStyle",type:"email",placeholder:"email",onChange:n.handleOnChange,value:n.state.email,required:!0}),a.a.createElement("input",{className:"inputStyle",type:"password",placeholder:"password",onChange:n.handleOnChange,value:n.state.password,required:!0}),n.renderUsername(),a.a.createElement("input",{type:"submit",value:"Submit"})))},n.renderCurrentUserInfo=function(){return""!==n.props.userInfo.id&&"admin@gmail.com"!==n.props.userInfo.email?a.a.createElement("div",{className:"orderContainer"},a.a.createElement("button",{className:"orderButton",onClick:n.getCurrentOrders},"Show All Orders! "),a.a.createElement("div",{className:"orderContainer"},n.displayCurrentOrder())):""!==n.props.userInfo.id&&"admin@gmail.com"===n.props.userInfo.email?a.a.createElement(B,null):n.renderForm()},n.state={email:"",password:"",signedUp:!0,text:"",signOut:!1,current_user:"",current_orders:[],current_orders_products:{id:"",products:[]},choosenShipper:{orderId:"",shipper:{_id:"",companyName:"",shippingPrice:0,shippingMethod:""}}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.renderCurrentUserInfo()}}]),t}(r.Component),V=(n(116),n(120)),R=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).showMessageForRemovedProduct=function(){n.setState({visible:!0},(function(){window.setTimeout((function(){n.setState({visible:!1})}),1e3)}))},n.removeItem=function(e,t){var r=localStorage.getItem("shoppingcart"),a=JSON.parse(r);a.some((function(n,r){n._id===e._id&&r===t&&a.splice(r,1)})),localStorage.setItem("shoppingcart",JSON.stringify(a)),n.setState({removed:!0}),n.props.getAddedProducts(a),n.showMessageForRemovedProduct()},n.getProductsFromShopingCard=function(){var e=localStorage.getItem("shoppingcart"),t=JSON.parse(e);if(null!==t&&t.length>0||!0===n.state.removed)return t.map((function(e,t){return a.a.createElement("div",{className:"d-flex flex-column align-items-center backgroundOdd container"},a.a.createElement("img",{id:"img",src:""+"/imgs/".concat(e.pictureUrl),alt:e.productName}),a.a.createElement("h4",null,e.productName),a.a.createElement("h4",null,e.unitPrice+" SEK"),a.a.createElement("span",null,"Quantity: ",1),a.a.createElement("button",{id:"removeButton",onClick:function(){return n.removeItem(e,t)}},"Remove"))}))},n.renderLinkToCheckOut=function(){return n.props.amount>=0?a.a.createElement(d.b,{to:"/checkOut"},a.a.createElement("span",{id:"vidareKassan",className:"containerVidareKassan",onClick:function(){P("checkOut")}},"Go To Checkout!")):""},n.state={removed:!1,visible:!1},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h4",{id:"shopping-cart-title"},"Welcome To Shopping Cart"),this.renderLinkToCheckOut(),a.a.createElement(V.a,{color:"alert alert-danger",isOpen:this.state.visible},"You Removed One Product"),a.a.createElement("div",{className:"d-flex align-items-center backgroundOdd majorContainer"},this.getProductsFromShopingCard()))}}]),t}(a.a.Component),Y=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).getShipperMethods=Object(f.a)(h.a.mark((function e(){var t,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={query:"\n            { shippers {\n            _id\n            shippingMethod\n            shippingPrice,\n            companyName\n            }\n        }"},e.prev=1,e.next=4,S()({url:"/graphql",method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.data;case 7:!1!==(a=e.sent).data.shippers?n.setState({shippers:a.data.shippers}):n.setState({shippers:[]}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Error at getting shippers"+e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),n.handleSubmit=function(e){e.preventDefault(),n.setState({createdOrder:n.props.userInfo.id},Object(f.a)(h.a.mark((function e(){var t,r,a,i,c,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.state.createdOrder){e.next=4;break}alert("Sign In First!"),e.next=27;break;case 4:if(t=localStorage.getItem("shoppingcart"),r=JSON.parse(t),a=[],i=r.map((function(e){return a.push(e._id),{name:e.productName,sku:"item",price:e.unitPrice.toString()+".00",currency:"SEK",quantity:1}})),!(a.length<=0)){e.next=12;break}alert("Select Product First"),e.next=27;break;case 12:return c={items:i,productIds:a,shipFirstName:n.state.shipFirstName,shipLastName:n.state.shipLastName,shippAdress:n.state.shippAdress,shippPostelCode:n.state.shippPostelCode,shipCity:n.state.shipCity,email:n.state.email,tel:n.state.tel,totalPrice:n.state.totalPrice,orderDate:n.state.orderDate,createdOrder:n.state.createdOrder,selectedShipper:""===n.state.selectedShipper?n.state.shippers[0]._id:n.state.selectedShipper},e.prev=13,e.next=16,S()({url:"/pay2",method:"POST",data:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 16:return o=e.sent,e.next=19,o.data;case 19:s=e.sent,window.location.assign(s.url),localStorage.setItem("shoppingcart",JSON.stringify([])),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(13),console.log("Error at posting orders"+e.t0);case 27:case"end":return e.stop()}}),e,null,[[13,24]])}))))},n.handleFirstName=function(e){n.setState({shipFirstName:e.target.value})},n.handleLastName=function(e){n.setState({shipLastName:e.target.value})},n.handleAddresss=function(e){n.setState({shippAdress:e.target.value})},n.handleShipperPostalconde=function(e){n.setState({shippPostelCode:e.target.value})},n.handleShipperCity=function(e){n.setState({shipCity:e.target.value})},n.handleEmailAndPhone=function(e){n.setState(Object(A.a)({},e.target.type,e.target.value))},n.handleOrderDate=function(e){n.setState({orderDate:e})},n.handleOrderPrice=function(){var e=n.props.totalPrice,t=localStorage.getItem("shoppingcart"),r=JSON.parse(t),a=0,i=!0,c=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){a+=s.value.unitPrice}}catch(p){c=!0,o=p}finally{try{i||null==l.return||l.return()}finally{if(c)throw o}}var u=0===e?a:e;n.setState({totalPrice:u})},n.handleSelectShipper=function(e){n.setState({selectedShipper:e.target.value})},n.renderShippers=function(){if(n.state.shippers.length>0)return n.state.shippers.map((function(e){return a.a.createElement("option",{value:e._id},"".concat(e.companyName," ").concat(e.shippingMethod," ").concat(e.shippingPrice,"SEK"))}))},n.state={shipFirstName:"",shipLastName:"",shippAdress:"",shippPostelCode:"",shipCity:"",email:"",tel:"",totalPrice:0,orderDate:"",createdOrder:"",selectedShipper:"",shippers:[]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getShipperMethods();var e=(new Date).toISOString();this.handleOrderDate(e),this.handleOrderPrice()}},{key:"render",value:function(){return a.a.createElement(q,null,a.a.createElement("span",null,"Welcome To Checkout "),a.a.createElement("form",{onSubmit:this.handleSubmit,style:G},a.a.createElement("label",null,a.a.createElement("i",{className:"fa fa-user"})," Userrname"),a.a.createElement("input",{type:"text",id:"fname",name:"firstname",placeholder:"Sven",onChange:this.handleFirstName,required:!0}),a.a.createElement("label",null,a.a.createElement("i",{className:"fa fa-user"})," Lastname"),a.a.createElement("input",{type:"text",id:"lname",name:"lastname",placeholder:"Svensson",onChange:this.handleLastName,required:!0}),a.a.createElement("label",null,a.a.createElement("i",{className:"fa fa-envelope"})," Email"),a.a.createElement("input",{type:"email",id:"email",name:"email",placeholder:"john@example.com",onChange:this.handleEmailAndPhone,required:!0}),a.a.createElement("label",null,a.a.createElement("i",{className:"fa fa-home"})," Address"),a.a.createElement("input",{type:"text",id:"adr",name:"address",placeholder:"Svenssongatan 14a",onChange:this.handleAddresss,required:!0}),a.a.createElement("label",null," City"),a.a.createElement("input",{type:"text",id:"city",name:"city",placeholder:"Goteborg",onChange:this.handleShipperCity,required:!0}),a.a.createElement("label",null,a.a.createElement("i",{className:"fa fa-institution"})," Postal code"),a.a.createElement("input",{type:"text",id:"postalcode",name:"postalcode",placeholder:"43350",onChange:this.handleShipperPostalconde,required:!0}),a.a.createElement("label",null," Phone"),a.a.createElement("input",{type:"tel",id:"shipPhoneNO",name:"shipPhoneNO",placeholder:"1212",onChange:this.handleEmailAndPhone,required:!0}),a.a.createElement("label",null," Total Price In Sek"),a.a.createElement("h5",null,this.state.totalPrice," kr"),a.a.createElement("select",{value:this.state.selectedShipper,onChange:this.handleSelectShipper,required:!0},this.renderShippers()),a.a.createElement("input",{type:"submit",value:"Slutf\xf6ra Ditt K\xf6p"})),a.a.createElement(d.b,{to:"/shoppingCard"},a.a.createElement("span",{onClick:function(){P("shoppingCard")}},"Want To Go Back ToShopping Cart")))}}]),t}(r.Component),G={display:"flex",flexDirection:"column",alignItems:"center",margin:"auto",width:"50%",marginTop:"3em",padding:"1em",backgroundColor:"#d7e4c7"},Q=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).findSpeceficProduct=Object(f.a)(h.a.mark((function e(){var t,r,a,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,r=new URL(t),a=r.pathname.substring(19),i={query:'{\n            getSpeceficProduct(_id: "'.concat(a,'") {\n              _id,\n              productName,\n              unitPrice\n              pictureUrl,\n              unitInStock,\n              description\n            }\n          }')},e.next=6,v(i);case 6:"undefined"!==typeof(c=e.sent)?n.setState({choosenProduct:c.getSpeceficProduct}):n.setState({choosenProduct:{productName:"",_id:"",unitPrice:0,unitInStock:0,pictureUrl:"",description:""}});case 8:case"end":return e.stop()}}),e)}))),n.showAddedProduct=function(){n.setState({visible:!0},(function(){window.setTimeout((function(){n.setState({visible:!1})}),1e3)}))},n.addProduct=function(e){var t,r,a=N("shoppingcart");a.push(e),t="shoppingcart",r=a,localStorage.setItem(t,JSON.stringify(r)),n.props.getAddedProducts(a),n.showAddedProduct()},n.removeSelectedProduct=function(){var e;e="selectedProducts",localStorage.removeItem(e)},n.renderSelectedProdcut=function(){if(""!==n.state.choosenProduct._id)return a.a.createElement("div",null,a.a.createElement(d.b,{to:"/productPage"},a.a.createElement("i",{className:"fas fa-arrow-left left-arrow-color",id:"link"})),a.a.createElement(V.a,{color:"alert alert-success",isOpen:n.state.visible},"You Added One Product To Shopping Cart"),a.a.createElement("div",{className:"backgroundOdd d-flex flex-column align-items-center"},a.a.createElement("img",{className:"img",src:""+"/imgs/".concat(n.state.choosenProduct.pictureUrl),alt:n.state.choosenProduct.productName}),a.a.createElement("div",{className:"detailContainer"},a.a.createElement("h6",null,"Name: ",n.state.choosenProduct.productName),a.a.createElement("h6",null," Price: ",n.state.choosenProduct.unitPrice+" SEK"),a.a.createElement("h6",null,"Produkt Quantity: ",n.state.choosenProduct.unitInStock),a.a.createElement("div",null,"Description: ",n.state.choosenProduct.description),a.a.createElement("button",{id:"addButton",onClick:function(){return n.addProduct(n.state.choosenProduct)}},"Add To Shopping Cart!"))))},n.state={visible:!1,choosenProduct:{productName:"",_id:"",unitPrice:0,unitInStock:0,pictureUrl:"",description:""}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.findSpeceficProduct()}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderSelectedProdcut())}}]),t}(a.a.Component),$=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={products:[]},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(_.c,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(_.a,{exact:!0,path:"/",component:j}),a.a.createElement(_.a,{path:"/productPage",render:function(){return a.a.createElement(U,{getAddedProducts:e.props.getAddedProducts})}}),a.a.createElement(_.a,{path:"/contact",component:F}),a.a.createElement(_.a,{path:"/SigninSignUp",render:function(){return a.a.createElement(W,{signedInUser:e.props.signedInUser,userInfo:e.props.userInfo})}}),a.a.createElement(_.a,{path:"/shoppingCard",render:function(){return a.a.createElement(R,{amount:e.props.amount,getAddedProducts:e.props.getAddedProducts})}}),a.a.createElement(_.a,{path:"/checkOut",render:function(){return a.a.createElement(Y,{totalPrice:e.props.totalPrice,userInfo:e.props.userInfo})}}),a.a.createElement(_.a,{path:"/admin",component:B}),a.a.createElement(_.a,{path:"/singleProduct",render:function(){return a.a.createElement(Q,{getAddedProducts:e.props.getAddedProducts})}}))))}}]),t}(a.a.Component),z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).checkForUser=function(){var e=localStorage.getItem("current_user"),t=JSON.parse(e);e&&n.setState({current_user:{username:t.username,id:t.id,email:t.email}})},n.renderCurrentSignedInUser=function(){return""!==n.state.current_user.id?a.a.createElement("div",null,a.a.createElement("h4",{className:"nav-link"}," Hey ",n.state.current_user.username),a.a.createElement("button",{className:"nav-link",onClick:n.signOut},"Sign Out")):""},n.signOut=function(){return localStorage.removeItem("current_user"),n.setState({current_user:{id:"",username:"",email:""}}),""},n.getAddedProducts=function(e){var t=0,r=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){t+=c.value.unitPrice}}catch(s){a=!0,i=s}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}n.setState({amount:e.length,totalPrice:t})},n.state={current_user:{id:"",username:"",email:""},amount:0,totalPrice:0},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("users"),t=localStorage.getItem("shoppingcart");null===e||!1===e?localStorage.setItem("users","[]"):localStorage.getItem("users"),null===t||!1===t?localStorage.setItem("shoppingcart",JSON.stringify([])):localStorage.getItem("shoppingcart"),this.checkForUser()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(w,{signedInUser:this.renderCurrentSignedInUser,amount:this.state.amount,totalPrice:this.state.totalPrice}),a.a.createElement($,{signedInUser:this.checkForUser,userInfo:this.state.current_user,getAddedProducts:this.getAddedProducts,totalPrice:this.state.totalPrice,amount:this.state.amount}))}}]),t}(a.a.Component),X=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).isLoggedin=function(e){n.setState({userId:e.userId,email:e.email})},n.state={userId:"",email:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(d.a,null,a.a.createElement(z,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(117);c.a.render(a.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,t,n){e.exports=n.p+"static/media/mainView.1734ba85.jpg"},61:function(e,t,n){e.exports=n.p+"static/media/support.349650ff.jpg"},62:function(e,t,n){e.exports=n(118)},67:function(e,t,n){}},[[62,1,2]]]);
//# sourceMappingURL=main.f41a0af1.chunk.js.map